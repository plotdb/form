var lform;new(lform=function(){var t,e=this;return this.title="untitled",this.desc="no description...",this.isPublic=!0,this.isRequired=!0,this.showDesc=!0,this.criteria=[{}],this.attr={length:{name:"length",opset:"count"},string:{name:"string",opset:"string"},number:{name:"number",opset:"number"}},this.show=function(){return console.log(this)},this.view=t=new ldView({root:document.body,action:{input:{title:function(t){var n;return n=t.node,e.title=n.value||"",e.show()},desc:function(t){var n;return n=t.node,e.desc=n.value||"",e.show()},value:function(t){var e;return e=t.node,this.value=e.value,this.criteria.map(function(){return form.term})}},click:{"add-criteria":function(){return e.criteria.push({}),e.view.render("criteria")},switch:function(n){var r,i;if(r=n.node,"isPublic"===(i=r.getAttribute("data-name"))||"isRequired"===i||"showDesc"===i)return e[i]=!e[i],t.render()}}},handler:{title:function(t){var n;return n=t.node,n.value=e.title},desc:function(t){var n;return n=t.node,n.value=e.desc},switch:function(t){var n,r;if(n=t.node,"isPublic"===(r=n.getAttribute("data-name"))||"isRequired"===r||"showDesc"===r)return n.classList.toggle("on",!!e[r])},attr:{list:function(){var t,n;return function(){var e,r=[];for(t in e=this.attr)n=e[t],r.push({k:t,v:n});return r}.call(e)||[]},handler:function(t){var e,n;return e=t.node,n=t.data,e.setAttribute("value",n.k),e.innerText=n.v.name}},criteria:{list:function(){return e.criteria||[]},view:{action:{click:{enabled:function(t){var n;return n=t.context,n.enabled=!n.enabled,e.view.render("criteria")},delete:function(t){var n;return n=t.context,e.criteria.splice(e.criteria.indexOf(n),1),e.view.render("criteria")}},change:{attr:function(n){var r,i;return r=n.node,i=n.context,i.opset=e.attr[r.value].opset,t.render("criteria")},op:function(e){var n,r;return n=e.node,r=e.context,r.op=form.opset.get(r.opset||"number").getOp(n.value),t.render("criteria")}}},handler:{enabled:function(t){var e,n;return e=t.node,n=t.context,e.classList.toggle("on",!!n.enabled)},"attr-option":{list:function(){var t,n;return function(){var e,r=[];for(t in e=this.attr)n=e[t],r.push({k:t,v:n});return r}.call(e)||[]},key:function(t){return t.k},handler:function(t){var e,n;return e=t.node,n=t.data,e.setAttribute("value",n.k),e.innerText=n.v.name}},"op-option":{list:function(t){var e,n,r,i,o,u=[];e=t.context,n=form.opset.get(e.opset||"number");for(r in i=n.ops)o=i[r],u.push(o);return u},handler:function(t){var e,n;return e=t.node,n=t.data,e.setAttribute("value",n.id),e.innerText=n.name}},"op-config":{list:function(t){var e,n,r,i,o=[];e=t.context;for(n in r=(e.op||(e.op={})).config||{})i=r[n],o.push({k:n,v:i});return o},key:function(t){return t.k},view:{text:{name:function(t){return t.node,t.context.k}}}}}}}}}),this});