function import$(t,e){var r={}.hasOwnProperty;for(var i in e)r.call(e,i)&&(t[i]=e[i]);return t}var lform;(lform=function(){return this.title="untitled",this.desc="no description...",this.isPublic=!0,this.isRequired=!0,this.showDesc=!0,this.criteria=[{}],this.attr={length:{name:"length",opset:"count"},string:{name:"string",opset:"string"},number:{name:"number",opset:"number"}},this.init(),this}).prototype=import$(Object.create(Object.prototype),{serialize:function(){return{title:this.title,desc:this.desc,isPublic:this.isPublic,isRequired:this.isRequired,showDesc:this.showDesc,criteria:this.criteria}},deserialize:function(t){var e;return this.title=(e=t.data||(t.data={})).title,this.desc=e.desc,this.isPublic=e.isPublic,this.isRequired=e.isRequired,this.showDesc=e.showDesc,this.criteria=e.criteria,this},init:function(){var t,e=this;return this.view=t=new ldView({root:document.body,action:{input:{title:function(t){var r;return r=t.node,e.title=r.value||""},desc:function(t){var r;return r=t.node,e.desc=r.value||""},value:function(t){var e;return e=t.node,this.value=e.value,this.criteria.map(function(){return form.term})}},click:{"add-criteria":function(){return e.criteria.push({}),e.view.render("criteria")},switch:function(r){var i,n;if(i=r.node,"isPublic"===(n=i.getAttribute("data-name"))||"isRequired"===n||"showDesc"===n)return e[n]=!e[n],t.render()}}},handler:{title:function(t){var r;return r=t.node,r.value=e.title},desc:function(t){var r;return r=t.node,r.value=e.desc},switch:function(t){var r,i;if(r=t.node,"isPublic"===(i=r.getAttribute("data-name"))||"isRequired"===i||"showDesc"===i)return r.classList.toggle("on",!!e[i])},attr:{list:function(){var t,r;return function(){var e,i=[];for(t in e=this.attr)r=e[t],i.push({k:t,v:r});return i}.call(e)||[]},handler:function(t){var e,r;return e=t.node,r=t.data,e.setAttribute("value",r.k),e.innerText=r.v.name}},criteria:{list:function(){return e.criteria||[]},view:{action:{click:{enabled:function(t){var r;return r=t.context,r.enabled=!r.enabled,e.view.render("criteria")},delete:function(t){var r;return r=t.context,e.criteria.splice(e.criteria.indexOf(r),1),e.view.render("criteria")}},change:{attr:function(r){var i,n;return i=r.node,n=r.context,n.opset=e.attr[i.value].opset,t.render("criteria")},op:function(e){var r,i;return r=e.node,i=e.context,i.op=form.opset.get(i.opset||"number").getOp(r.value),t.render("criteria")}}},handler:{enabled:function(t){var e,r;return e=t.node,r=t.context,e.classList.toggle("on",!!r.enabled)},"attr-option":{list:function(){var t,r;return function(){var e,i=[];for(t in e=this.attr)r=e[t],i.push({k:t,v:r});return i}.call(e)||[]},key:function(t){return t.k},handler:function(t){var e,r;return e=t.node,r=t.data,e.setAttribute("value",r.k),e.innerText=r.v.name}},"op-option":{list:function(t){var e,r,i,n,o,a=[];e=t.context,r=form.opset.get(e.opset||"number");for(i in n=r.ops)o=n[i],a.push(o);return a},handler:function(t){var e,r;return e=t.node,r=t.data,e.setAttribute("value",r.id),e.innerText=r.name}},"op-config":{list:function(t){var e,r,i,n,o=[];e=t.context;for(r in i=(e.op||(e.op={})).config||{})n=i[r],o.push({k:r,v:n});return o},key:function(t){return t.k},view:{text:{name:function(t){return t.node,t.context.k}}}}}}}}})}}),new lform;