<div><div plug="widget"><div class="form-group d-inline-block mb-0 has-tips manual"><div class="btn btn-upload btn-outline-secondary has-tips manual" ld="button"><span ld="name">Upload ...</span><input class="form-control form-control-sm" ld="input" type="file"><div class="hover-tip tip-sm"><a ld="info"></a></div></div><div class="invalid-feedback hover-tip tip-sm">please enter a better value</div></div></div><script type="@plotdb/block">var store,mod;module.exports={pkg:{extend:{name:"base"},dependencies:[{name:"ldview",version:"main"}]},init:function(e){var n,t,r,i,o,u;n=e.root,t=e.ctx,r=e.data,i=e.parent,o=e.pubsub,u=e.t;return o.fire("init",{mod:mod({root:n,ctx:t,data:r,parent:i,t:u})})}};store=function(){return Promise.resolve({name:"dummy",url:"about:blank",size:1234})};mod=function(e){var t,n,r,i,o,u,a;t=e.root,n=e.ctx,r=e.data,i=e.parent,o=e.t;u=n.ldview;a=r||{};return{init:function(){var e,n,i=this;this.on("change",function(){});e=function(e){var n;n=e.node;store(n.files).then(function(e){var n,t,r;n=e.name,t=e.url,r=e.size;return i.value({name:n,url:t,size:r})}).then(function(){return n.value=null});return console.log(n.files[0])};return this.view=n=new u({root:t,action:{input:{input:e},change:{input:e}},handler:{info:function(e){var n,t;n=e.node;if(!(t=i.value())){n.innerText="no file";return n.setAttribute("href","")}else{n.innerText=!t?"":t.name+" / "+(t.size/1048576).toFixed(2)+"MB";return n.setAttribute("href",t.url)}},button:function(e){var n,t;n=e.node;t=i.value();return n.classList.toggle("tip-on",!!t)},name:function(e){var n;n=e.node;return n.innerText=i.value()?"Re-Upload ...":"Upload ..."},input:function(e){var n,t;n=e.node;t=!!(a.config||(a.config={})).readonly;if(t){n.setAttribute("readonly",true)}else{n.removeAttribute("readonly")}return n.classList.toggle("is-invalid",!!i._errors.length)}}})},render:function(){return this.view.render()}}};</script></div>