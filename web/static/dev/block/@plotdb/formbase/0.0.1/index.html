<div class="rounded-lg shadow mb-4"><div class="p-4"><div class="d-flex"><div class="flex-grow-1"><h3 ld="title" contenteditable="true">問題的標題</h3><p contenteditable="true">關於問題的簡單描述 ...</p></div><div><div class="ml-4"><div class="dropdown" ld="dropdown"><div class="btn btn-light dropdown-toggle" data-toggle="dropdown">短名</div><div class="dropdown-menu dropdown-menu-right"><div class="dropdown-item">統一編號</div><div class="dropdown-item">電話</div><div class="dropdown-item">團隊名稱</div><div class="dropdown-item"><input class="form-control" placeholder="自訂 ..."></div></div></div></div></div></div><plug name="view"></plug></div><div class="border-top border-bottom"><div class="m-4"><div class="d-flex mb-1 align-items-center justify-content-between" ld-each="criteria"><div class="mr-2"><div class="switch switch-lg" ld="enabled"></div></div><div class="mr-2"><div class="dropdown" ld="dropdown"><div class="btn btn-light dropdown-toggle" data-toggle="dropdown">數值</div><div class="dropdown-menu"><div class="dropdown-item">字串</div><div class="dropdown-item">列表</div><div class="dropdown-item">檔案大小</div></div></div></div><div class="mr-2"><div class="dropdown" ld="dropdown"><div class="btn btn-light dropdown-toggle" data-toggle="dropdown">≧ 大於或等於</div><div class="dropdown-menu"><div class="dropdown-item">≦ 小於或等於</div><div class="dropdown-item">≠ 不等於</div><div class="dropdown-item">= 等於</div></div></div></div><div class="mr-2"><input class="form-control simple" placeholder="值 1"></div><div class="mr-2"><input class="form-control simple" placeholder="值 2"></div><i class="i-close text-danger clickable" ld="delete"></i></div><div class="mt-4"><div class="btn btn-link p-0" ld="add-criteria">增加條件 ...</div></div></div></div><div class="p-4"><div class="d-flex align-items-center"><div class="mr-2"><div class="btn btn-sm btn-outline-danger" ld="delete"><i class="i-close"></i> 刪除</div></div><div class="mr-2"><div class="btn btn-sm btn-outline-secondary" ld="clone"><i class="i-clone"></i> 複製</div></div><div class="flex-grow-1 justify-content-end d-flex"><div class="ml-4 d-flex align-items-center line-height-1em">公開 <div class="switch ml-2" ld="switch" data-name="isPublic"></div></div><div class="ml-4 d-flex align-items-center line-height-1em">必填 <div class="switch ml-2 on" ld="switch" data-name="isRequired"></div></div><div class="ml-4 d-flex align-items-center line-height-1em">顯示描述 <div class="switch ml-2" ld="switch" data-name="showDesc"></div></div></div></div></div><script type="@plotdb/block">({pkg:{name:"@plotdb/base",version:"0.0.1",dependencies:[{url:"/assets/lib/bootstrap.native/main/bootstrap-native.min.js"}]},init:function(t){var e,n,o;e=t.root,n=t.context;o=n.BSN;return function(t){return new t}(function(){var i,r,n=this;this.root=e;i=this.data={};return this.view=r=new ldView({root:this.root,action:{input:{title:function(t){var e;e=t.node;return i.title=e.value||""},desc:function(t){var e;e=t.node;return i.desc=e.value||""},value:function(t){var e;e=t.node;i.value=e.value;return i.criteria.map(function(){return form.term})}},click:{"add-criteria":function(){(i.criteria||(i.criteria=[])).push({});return n.view.render("criteria")},switch:function(t){var e,n;e=t.node;n=e.getAttribute("data-name");if(!(n==="isPublic"||n==="isRequired"||n==="showDesc")){return}i[n]=!i[n];return r.render()}}},init:{dropdown:function(t){var e;e=t.node;return new o.Dropdown(e)}},handler:{title:function(t){var e;e=t.node;return e.value=i.title||""},desc:function(t){var e;e=t.node;return e.value=i.desc||""},switch:function(t){var e,n;e=t.node;n=e.getAttribute("data-name");if(!(n==="isPublic"||n==="isRequired"||n==="showDesc")){return}return e.classList.toggle("on",!!i[n])},attr:{list:function(){var n,r;return function(){var t,e=[];for(n in t=i.attr){r=t[n];e.push({k:n,v:r})}return e}()||[]},handler:function(t){var e,n;e=t.node,n=t.data;e.setAttribute("value",n.k);return e.innerText=n.v.name}},criteria:{list:function(){return i.criteria||[]},view:{action:{click:{enabled:function(t){var e;e=t.context;e.enabled=!e.enabled;return n.view.render("criteria")},delete:function(t){var e;e=t.context;i.criteria.splice(i.criteria.indexOf(e),1);return n.view.render("criteria")}},change:{attr:function(t){var e,n;e=t.node,n=t.context;n.opset=i.attr[e.value].opset;return r.render("criteria")},op:function(t){var e,n;e=t.node,n=t.context;n.op=form.opset.get(n.opset||"number").getOp(e.value);return r.render("criteria")}}},init:{dropdown:function(t){var e;e=t.node;return new o.Dropdown(e)}},handler:{enabled:function(t){var e,n;e=t.node,n=t.context;return e.classList.toggle("on",!!n.enabled)},"attr-option":{list:function(){var n,r;return function(){var t,e=[];for(n in t=i.attr){r=t[n];e.push({k:n,v:r})}return e}()||[]},key:function(t){return t.k},handler:function(t){var e,n;e=t.node,n=t.data;e.setAttribute("value",n.k);return e.innerText=n.v.name}},"op-option":{list:function(t){var e,n,r,i,o,a=[];e=t.context;n=form.opset.get(e.opset||"number");for(r in i=n.ops){o=i[r];a.push(o)}return a},handler:function(t){var e,n;e=t.node,n=t.data;e.setAttribute("value",n.id);return e.innerText=n.name}},"op-config":{list:function(t){var e,n,r,i,o=[];e=t.context;for(n in r=(e.op||(e.op={})).config||{}){i=r[n];o.push({k:n,v:i})}return o},key:function(t){return t.k},view:{text:{name:function(t){var e,n;e=t.node,n=t.context;return n.k}}}}}}}}})})}});</script></div>